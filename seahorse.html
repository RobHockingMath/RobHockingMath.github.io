<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta property="og:title" content="Rob Hocking Mathematical Art - Seahorse Fractal">
  <meta property="og:image" content="https://robhockingmath.github.io/images/background.jpg">
  <meta property="og:url" content="https://robhockingmath.github.io/seahorse.html">
  <meta property="og:type" content="website">
  <meta property="og:image:width" content="2400">
  <meta property="og:image:height" content="1800">

  <title>Seahorse Fractal - Rob Hocking Mathematical Art</title>

  <!-- Google Fonts & Local CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles-new.css">

  <!-- Snipcart CSS & JS -->
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.2.1/default/snipcart.css" />
  <script async src="https://cdn.snipcart.com/themes/v3.2.1/default/snipcart.js"></script>

  <!-- Font Awesome for social icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-..."
    crossorigin="anonymous"
  />
  
  <!-- Mobile detection and stylesheet loading -->
  <script>
    // Simple mobile detection based on user agent.
    if (/Mobi|Android/i.test(navigator.userAgent)) {
      // Create a link element for the mobile CSS.
      var mobileLink = document.createElement('link');
      mobileLink.rel = 'stylesheet';
      mobileLink.href = 'mobile.css'; // Create and customize this file with mobile-friendly styles.
      document.head.appendChild(mobileLink);
    }
  </script>
  
</head>

<body>
  <div id="snipcart" data-api-key="MzE3MzY0OGEtZGRkOS00ZmFiLTgxZGEtZDYyYzNhOTIxMWJmNjM4NzU1NjQ3Mzk3NDQ3NzU2" hidden></div>
  <script src="snipcart-init.js"></script>
  <script src="currency-switcher.js"></script>
  <script src="update-price.js"></script>

  <div class="home-container">
    <!-- Navigation Bar -->
    <nav class="navbar">
      <a href="./index.html">
        <div class="name-section">
          <h1>Rob Hocking</h1>
          <p>Mathematician and Holographer</p>
        </div>
      </a>
      <div class="nav-menu">
        <!-- Standard nav links -->
        <div><a href="about.html">About</a></div>
        <div id="toggle-holography">Digital Holography
          <div id="submenu-holography" style="display:none;">
            <div class="dropdown-entry"><a href="digital_holography.html">Introduction</a></div>
            <div class="dropdown-entry"><a href="apollian_gasket.html">Apollonian Gasket</a></div>
            <div class="dropdown-entry"><a href="black_hole.html">Black Hole</a></div>
          </div>
        </div>
        <div id="toggle-fractals">Fractal Geometry
          <div id="submenu-fractals" style="display:none;">
            <div class="dropdown-entry"><a href="fractal.html">Introduction</a></div>
            <div class="dropdown-entry"><a href="menger.html">Menger Sponge</a></div>
          </div>
        </div>
        <div><a href="quilts.html">Downloads</a></div>

        <!-- Social Icons -->
        <div class="social-icons">
          <a href="https://www.youtube.com/@RobHockingMathArt/videos" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-youtube"></i>
          </a>
          <a href="https://www.instagram.com/robhockingmathart/" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-instagram"></i>
          </a>
        </div>
        <div class="language-switch">
          <a href="seahorse_zh.html" class="lang-toggle">
            <i class="fa-solid fa-globe"></i>
            ä¸­æ–‡
          </a>
        </div>
      </div>

      <!-- Optionally place your cart button + currency switcher right in the nav -->
      <div style="display: flex; align-items: center; gap: 20px; margin-left: auto;">
        <!-- Example currency switcher (if you want multi-currency) -->
        <select id="currency-switcher" style="padding: 4px 8px;">
          <option value="USD">USD</option>
          <option value="CAD">CAD</option>
          <option value="EUR">EUR</option>
          <option value="HKD">HKD</option>
          <!-- add more currency codes if your Snipcart supports them -->
        </select>

        <!-- Cart Button (placed in the nav) -->
        <button class="snipcart-checkout" style="position: static; padding: 8px 16px; background-color: #0073e6; color: #fff; border: none; border-radius: 4px; cursor: pointer;">
          ðŸ›’ <span class="snipcart-items-count"></span>
        </button>
      </div>

    </nav>

    <!-- Main Content Area -->
    <div class="content" style="flex-grow: 1;">
      <h2 style="text-align: center; margin-top: 20px;">Seahorse Fractal</h2>

      <!-- Two-column layout for the single product -->
      <div class="single-item-container">
        <!-- Left Column (Carousel) -->
        <div class="left-column">
          <div class="shop-item">
            <!-- Carousel container with arrow controls -->
            <div class="img-container" id="carousel-container">
              <!-- Left arrow control -->
              <a href="javascript:void(0);" class="arrow left-arrow" onclick="prevImage()">&#10094;</a>
              
              <!-- Image and video elements (will be updated by JS) -->
              <img id="product-image" src="" alt="Seahorse Fractal">
              <video id="product-video" class="hover-video" muted loop playsinline></video>
              
              <!-- Right arrow control -->
              <a href="javascript:void(0);" class="arrow right-arrow" onclick="nextImage()">&#10095;</a>
            </div>
            <!-- Caption element for carousel item description -->
            <div id="carousel-caption" class="carousel-caption"></div>
            
            <!-- Optional item info or title below carousel -->
            <div class="shop-item-info">
            </div>
          </div>
        </div>

        <!-- Right Column (Description) -->
        <div class="right-column">
          <div class="description-box">
            <h2>Description</h2>
            <p>This seahorse glass etching is actually a Kleinian limit set fractal composed of infinitely many spheres. 
               It is just one member of an infinite family of such fractals, 
               all of which may be continuously deformed into one another.</p>
               <p class="price-tag" data-base-price="2500">$2,500</p>

            <!-- Quantity Input -->
            <label for="seahorse-qty">Quantity:</label>
            <input id="seahorse-qty" class="snipcart-item-quantity" name="quantity" type="number" value="1" min="1">

            <!-- Snipcart Add to Cart Button -->
            <button class="snipcart-add-item"
              data-item-id="seahorse-fractal-etching"
              data-item-name="Seahorse Fractal Etching"
              data-item-price="{&quot;usd&quot;:2500,&quot;eur&quot;:2100,&quot;cad&quot;:1900,&quot;hkd&quot;:8000}"
              data-item-url="/seahorse.html"
              data-item-description="A Kleinian limit set fractal etched in glass.">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Inline script for carousel data -->
  <script>
    window.carouselItems = [
      { 
        image: "images/seahorse_clipped2_frame_1.jpg", 
        video: "videos/Seahorse_loop_comp.mp4",
        description: "Dynamic view of the seahorse with animated details."
      },
      { 
        image: "images/seahorse_base_1000.jpg", 
        video: null,
        description: "The 10x20cm LED base with USB power cord."
      }
    ];
    window.currentIndex = 0;
  </script>
  
  <!-- Inline carousel script -->
  <script>
    function updateMedia() {
      var items = window.carouselItems || [];
      var imgEl = document.getElementById("product-image");
      var vidEl = document.getElementById("product-video");
      var container = document.getElementById("carousel-container");
      var captionEl = document.getElementById("carousel-caption");
      
      if (!items.length) return;
      
      // Update image source and caption text.
      imgEl.src = items[window.currentIndex].image;
      captionEl.textContent = items[window.currentIndex].description || "";
      
      // If a video is provided, show it; otherwise hide the video.
      if (items[window.currentIndex].video) {
        container.classList.remove("no-video");
        vidEl.src = items[window.currentIndex].video;
        vidEl.load();
        vidEl.style.display = "block";
      } else {
        container.classList.add("no-video");
        vidEl.pause();
        vidEl.removeAttribute("src");
        vidEl.load();
        vidEl.style.display = "none";
      }
    }
    
    function prevImage() {
      var items = window.carouselItems || [];
      window.currentIndex = (window.currentIndex - 1 + items.length) % items.length;
      updateMedia();
    }
    
    function nextImage() {
      var items = window.carouselItems || [];
      window.currentIndex = (window.currentIndex + 1) % items.length;
      updateMedia();
    }
    
    document.addEventListener("DOMContentLoaded", updateMedia);
  </script>

  <script src="snipcart-lang-switch.js"></script>
  <script src="script.js"></script>
  <script type="module" src="./dropdowns.js"></script>

</body>
</html>
